<!DOCTYPE html>
<html>
<head>
<title>Title</title>
<meta charset="utf-8">
<style>
        @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
        @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
        @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
        body { font-family: 'Droid Serif'; }
        h1, h2, h3 { font-family: 'Yanone Kaffeesatz';
                     font-weight: normal; }
        .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
</style>
</head>
<body>
<textarea id="source">

class: middle, center

# Softwarequalit√§ts-Tooling

---
	
# Agenda

    1.0 Testing Functional JavaScript
        1.1 Why Test?
        1.2 Why Functional?
        1.3 How pure Functions work
        1.4 What makes Functional Code easy to test?
        1.5 Testing Functional JavaScript
        1.6 Testing is addictive
        1.7 Refactoring a pure Function
    2.0 Test NodeJS using Mocha, Chai, SinonJS
        2.1 Literature on Tools
            2.1.1 Mocha
            2.1.2 Chai
            2.1.3 SinonJS
        2.2 Spies, Stubs, Mocks
        2.3 Testing Async Code
            2.3.1 Callbacks
            2.3.2 Promises
    3.0 Snapshot Testing React with Jest
        3.1 What is a Snapshot Test?
        3.2 Introducing Jest
        3.3 Setting Up Snapshot Testing
        3.4 Add a Snapshot Test
        3.5 Failed Snapshot Tests
        3.6 Updating Snapshot Tests
        3.7 Create a New Component with Tests
    4.0 Links

---

layout: true

## 1.0 Testing Functional JavaScript

---

### 1.1 Why Test?

- making sure that the code in the application does what is expected and keeps doing what is expected when it gets changed
- tests define an expected functionality under a defined set of circumstances
- there will be a warning until the code gets fixed
- tests in a nutshell:
    - Unit tests validate the functionality of isolated code
    - Integration tests verify the flow of data and the interaction of components
    - Functional tests look at the behaviour of the overall application
- tests can be written at any point in the coding process, but it is more efficient to write unit tests before writing the function
- this practice is known as <a href="https://www.sitepoint.com/learning-javascript-test-driven-development-by-example/" target="_blank">test-driven development(TDD)</a>
 
---

### 1.2 Why Functional?

- functional programming allows to deal with the data and the behaviour of the application independently
- the application is build by creating a set of independent functions that work in isolation and don't rely on external state
- the result:
    - the code becomes almost self-documenting
    - tied clearly defined functions behave in consistent and understandable ways
- functional programming is often contrasted against imperative programming and object-oriented programming
- JavaScript can support all of these techniques and even mix-and-match them
- functional programming can be a worthwhile alternative to:
    - creating sequences of imperative code that track the state of the application across multiple steps until a result is returned
    - building an application out of interactions across complex objects that encapsulate the methods that apply to a specific data structure

---

### 1.3 How pure Functions work

- functional programming encourages to build an application out of tiny, reusable, composable functions that do a specific task and return the same value for the same input
- a function like this is called **pure function**:
    - doesn't rely on external state or variables
    - doesn't cause side effect or alter external variables
    - always return the same result for the same input
- another advantage: makes it easier to do unit testing
- therefore the code can be refactored without breaking essential functionality

---

### 1.4 What makes Functional Code easy to test?

- writing tests for a pure function is trivial because every single input has a consistent output
- all that has to be done is setting the expectations and run them against the code
- no context needs to be established
- no inter-functional dependencies to keep track of
- no changing state outside of the function that needs to be simulated
- no variable external data sources to be mocked out
- there are a lot of testing options ranging from full-fledged frameworks to utility libraries and simple testing harnesses
- these include <a href="https://jasmine.github.io/" target="_blank">Jasmine</a>, <a href="https://mochajs.org/" target="_blank">Mocha</a>, <a href="http://airbnb.io/enzyme/" target="_blank">Enzyme</a>, <a href="https://facebook.github.io/jest/" target="_blank">Jest</a>, etc.
- each one has different advantages and disadvantages and best use cases

---

### 1.4 What makes Functional Code easy to test? - Jasmine

- Jasmine is a robust framework that can be used in a wide variety of circumstances
- create a HTML document that pulls the testing library locally/from CDN

```HTML
<head>
    <meta charset="utf-8">
    <title>Jasmine Test</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jasmine/
        2.6.1/jasmine.min.css">
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/
        2.6.1/jasmine.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/
        2.6.1/jasmine-html.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jasmine/
        2.6.1/boot.min.js"></script>
</body>
```

- brings in the Jasmine library, along with Jasmine HTML boot script and styling

---

### 1.5 Testing Functional JavaScript - The first Test

- this can be done in a separate document or by including it inside a ```<script>``` element on the page
- use the <a href="https://jasmine.github.io/api/2.6/global.html#describe" target="_blank">describe</a> function defined by the Jasmine library to describe the behaviour for a new function
- the example function to write will be called ```isPalindrome``` and will return ```true``` if the string passed is the same forward and backwards otherwise ```false```
```js
describe("isPalindrome", () => {
    it("returns true if the string is palindrome", () => {
        expect(isPalindrome("abba")).toEqual(true);
    });
});
```
- add this to a script in the page and load it

---

### 1.5 Testing Functional JavaScript - The first Testresult

- a working Jasmine report page will show up
![]()


---

### 1.6 Testing is addictive

---

### 1.7 Refactoring a pure Function

---

layout: false

# 4.0 Links

- Testing Functional JavaScript

https://www.sitepoint.com/testing-functional-javascript/
- Test NodeJS using Mocha, Chai, SinonJS

https://scotch.io/tutorials/how-to-test-nodejs-apps-using-mocha-chai-and-sinonjs
- Snapshot Testing React with Jest

https://daveceddia.com/snapshot-testing-react-with-jest/

---

layout: true

# Inhalt

---

## Inhalt - Subthema

---

</textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js">
</script>
<script>
         var slideshow = remark.create({
            highlightLines: true
        });
</script>

</body>
</html>

